[gd_scene load_steps=36 format=2]

[ext_resource path="res://FirstPerson.tscn" type="PackedScene" id=1]
[ext_resource path="res://Levels/Main/Geometry/Floor.tscn" type="PackedScene" id=2]
[ext_resource path="res://Levels/Main/Environment.tres" type="Environment" id=3]
[ext_resource path="res://Levels/Main/L_Main.gd" type="Script" id=4]
[ext_resource path="res://Levels/Main/Geometry/Cube.gd" type="Script" id=5]
[ext_resource path="res://Levels/Main/Geometry/Cube.tscn" type="PackedScene" id=6]
[ext_resource path="res://Levels/Main/Geometry/Floor.gd" type="Script" id=7]
[ext_resource path="res://Levels/Main/Entrance.gd" type="Script" id=8]
[ext_resource path="res://Sprites/color.jpg" type="Texture" id=9]
[ext_resource path="res://Levels/Main/Area.gd" type="Script" id=10]
[ext_resource path="res://addons/kenney_prototype_textures/red/texture_09.png" type="Texture" id=11]
[ext_resource path="res://addons/kenney_prototype_textures/orange/texture_07.png" type="Texture" id=12]
[ext_resource path="res://addons/kenney_prototype_textures/orange/texture_10.png" type="Texture" id=14]

[sub_resource type="SpatialMaterial" id=24]
albedo_texture = ExtResource( 9 )

[sub_resource type="CubeMesh" id=4]
material = SubResource( 24 )
size = Vector3( 50, 1, 50 )

[sub_resource type="SpatialMaterial" id=25]
albedo_texture = ExtResource( 9 )

[sub_resource type="CubeMesh" id=6]
material = SubResource( 25 )
size = Vector3( 50, 2, 50 )

[sub_resource type="SpatialMaterial" id=26]
albedo_texture = ExtResource( 9 )

[sub_resource type="CubeMesh" id=8]
material = SubResource( 26 )
size = Vector3( 50, 2, 50 )

[sub_resource type="Skin" id=10]

[sub_resource type="SpatialMaterial" id=11]
albedo_texture = ExtResource( 11 )

[sub_resource type="SpatialMaterial" id=12]
albedo_texture = ExtResource( 12 )
metallic = 1.0

[sub_resource type="SpatialMaterial" id=13]
albedo_texture = ExtResource( 12 )
metallic = 1.0

[sub_resource type="SpatialMaterial" id=14]
albedo_texture = ExtResource( 12 )
metallic = 1.0

[sub_resource type="Skin" id=1]
resource_local_to_scene = true

[sub_resource type="SpatialMaterial" id=15]
albedo_texture = ExtResource( 14 )

[sub_resource type="SpatialMaterial" id=16]
albedo_texture = ExtResource( 14 )

[sub_resource type="SpatialMaterial" id=22]
albedo_texture = ExtResource( 12 )

[sub_resource type="SpatialMaterial" id=18]
albedo_texture = ExtResource( 14 )

[sub_resource type="SpatialMaterial" id=19]
albedo_texture = ExtResource( 14 )

[sub_resource type="SpatialMaterial" id=20]
albedo_texture = ExtResource( 14 )

[sub_resource type="SpatialMaterial" id=21]
albedo_texture = ExtResource( 14 )

[sub_resource type="SpatialMaterial" id=23]
albedo_texture = ExtResource( 12 )

[sub_resource type="BoxShape" id=2]
extents = Vector3( 0.176245, 1.2016, 0.513598 )

[sub_resource type="BoxShape" id=9]
extents = Vector3( 0.218364, 0.629531, 1.95236 )

[node name="Nivel_1" type="Spatial"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -0.410734, 0.498449, 0.030405 )
script = ExtResource( 4 )

[node name="Lighting" type="Node" parent="."]

[node name="WorldEnvironment" type="WorldEnvironment" parent="Lighting"]
environment = ExtResource( 3 )

[node name="OmniLight3" type="OmniLight" parent="Lighting"]
transform = Transform( 0.139906, -0.986711, -0.0826266, 0.818409, 0.162205, -0.551267, 0.557344, 0.00950324, 0.830227, -2.62267, 63.8437, -220.318 )
omni_range = 566.722

[node name="OmniLight2" type="OmniLight" parent="Lighting"]
transform = Transform( 0.751436, -0.642404, -0.150534, 0.593766, 0.757881, -0.270295, 0.287726, 0.113728, 0.950936, -2.56326, 67.0662, -55.3507 )
omni_range = 566.722

[node name="OmniLight" type="OmniLight" parent="Lighting"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -2.56483, 66.9978, 184.377 )
omni_range = 566.722

[node name="OmniLight4" type="OmniLight" parent="Lighting"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -32.0558, 43.1381, 77.8526 )
light_color = Color( 0.87451, 0.843137, 0.843137, 1 )
light_energy = 0.881
light_indirect_energy = 0.413
omni_range = 566.722

[node name="OmniLight5" type="OmniLight" parent="Lighting"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 48.2282, 39.3241, 77.8526 )
light_color = Color( 0.87451, 0.847059, 0.847059, 1 )
light_energy = 0.266
omni_range = 566.722

[node name="mapa" type="Spatial" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -9.65762, -26.2583, -26.4146 )

[node name="techo" parent="mapa" instance=ExtResource( 2 )]
transform = Transform( 3, 0, 0, 0, 4, 0, 0, 0, 14, -14.3426, 121.409, -44.6876 )
mesh = SubResource( 4 )
skeleton = NodePath("")

[node name="atras" parent="mapa" instance=ExtResource( 2 )]
transform = Transform( 5.73206e-15, 4.37114e-08, 3, 3, -4.37114e-08, 0, 1.31134e-07, 1, -1.31134e-07, -6.83107, 56.2983, 259.686 )
mesh = SubResource( 4 )
skeleton = NodePath("")

[node name="izquierda" parent="mapa" instance=ExtResource( 2 )]
transform = Transform( -1.29036e-07, -2.952, 0, 2.952, -1.29036e-07, 0, 0, 0, 12, -52.8099, 47.7655, -42.6433 )
mesh = SubResource( 4 )
skeleton = NodePath("")

[node name="derecha" parent="mapa" instance=ExtResource( 2 )]
transform = Transform( -1.29036e-07, 1, 0, -2.952, -4.37114e-08, 0, 0, 0, 12, 59.8458, 47.0814, -7.23349 )
mesh = SubResource( 6 )
skeleton = NodePath("")

[node name="suelo" parent="mapa" instance=ExtResource( 2 )]
transform = Transform( 5, 0, 0, 0, 1, 0, 0, 0, 14, 0, 0, 0 )
mesh = SubResource( 8 )
skeleton = NodePath("")

[node name="final rojo" parent="mapa" instance=ExtResource( 2 )]
transform = Transform( 5.73206e-15, 4.37114e-08, 3, 3, -4.37114e-08, 0, 1.31134e-07, 1, -1.31134e-07, -6.83107, 56.2983, -297.362 )
mesh = SubResource( 4 )
skin = SubResource( 10 )
skeleton = NodePath("")
material/0 = SubResource( 11 )

[node name="puerta derecha" parent="mapa" instance=ExtResource( 2 )]
transform = Transform( 0, 0, 1, 3, 0, 0, 0, 1, 0, -37.0853, 56.298, -269.675 )
mesh = SubResource( 4 )
skin = SubResource( 10 )
skeleton = NodePath("")
material/0 = SubResource( 12 )

[node name="puerta izquierda" parent="mapa" instance=ExtResource( 2 )]
transform = Transform( 0, 0, 1, 3, 0, 0, 0, 1, 0, 46.5356, 56.298, -269.675 )
mesh = SubResource( 4 )
skin = SubResource( 10 )
skeleton = NodePath("")
material/0 = SubResource( 13 )

[node name="puerta arriba" parent="mapa" instance=ExtResource( 2 )]
transform = Transform( 3, 0, -4.37114e-08, -1.31134e-07, 1.91069e-15, -1, 0, 1, 1.91069e-15, 46.5356, 97.6031, -269.675 )
mesh = SubResource( 4 )
skin = SubResource( 10 )
skeleton = NodePath("")
material/0 = SubResource( 14 )

[node name="ArenaGeometry2" type="Spatial" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -0.00136161, 0.0351963, 0.00745201 )

[node name="rampa central" type="Spatial" parent="ArenaGeometry2"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 0.663, 0, 0, 53.3268 )

[node name="TooSteep2" parent="ArenaGeometry2/rampa central" instance=ExtResource( 6 )]
transform = Transform( 3.5, 0.216506, 0, -6.06218, 0.125, 0, 0, 0, 200, 0, 0, 0 )
skin = SubResource( 1 )
skeleton = NodePath("../..")
material/0 = SubResource( 15 )
script = ExtResource( 5 )

[node name="TooSteep3" parent="ArenaGeometry2/rampa central" instance=ExtResource( 6 )]
transform = Transform( 3.5, -0.216506, 0, 6.06218, 0.125, 0, 0, 0, 200, -7, 0, 0 )
skin = SubResource( 1 )
skeleton = NodePath("../..")
material/0 = SubResource( 16 )

[node name="Floor2" parent="ArenaGeometry2/rampa central" instance=ExtResource( 2 )]
transform = Transform( 7.77649e-16, 1.09278e-08, 0.178, 0.407, -1.09278e-08, 0, 1.77905e-08, 0.25, -7.78063e-09, 0.288232, -1.98935, 179.126 )
skeleton = NodePath("../../..")

[node name="Plataforma inicial" type="Spatial" parent="ArenaGeometry2"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -3.38342, 14.3309, 0 )

[node name="fisica" parent="ArenaGeometry2/Plataforma inicial" instance=ExtResource( 2 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1.5, 0, -5, 215.209 )
skeleton = NodePath("../../..")
material/0 = SubResource( 22 )

[node name="Floor3" parent="ArenaGeometry2/Plataforma inicial" instance=ExtResource( 2 )]
transform = Transform( 1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, -5, 228.562 )
mesh = null
skeleton = NodePath("../../..")

[node name="Floor4" parent="ArenaGeometry2/Plataforma inicial" instance=ExtResource( 2 )]
transform = Transform( -4.37114e-08, 1, -4.37114e-08, 0, -4.37114e-08, -1, -1, -4.37114e-08, 1.91069e-15, -19.7174, -5, 208.787 )
mesh = null
skeleton = NodePath("../../..")

[node name="Floor6" parent="ArenaGeometry2/Plataforma inicial" instance=ExtResource( 2 )]
transform = Transform( -4.37114e-08, 1, -4.37114e-08, 0, -4.37114e-08, -1, -1, -4.37114e-08, 1.91069e-15, 19.8131, -5, 208.787 )
mesh = null
skeleton = NodePath("../../..")

[node name="rampa izquierda" type="Spatial" parent="ArenaGeometry2"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -28.436, 8.813, -50 )

[node name="TooSteep2" parent="ArenaGeometry2/rampa izquierda" instance=ExtResource( 6 )]
transform = Transform( 3.5, 0.216506, 0, -6.06218, 0.125, 0, 0, 0, 200, 0, 0, 0 )
skin = SubResource( 1 )
skeleton = NodePath("../..")
material/0 = SubResource( 18 )

[node name="TooSteep3" parent="ArenaGeometry2/rampa izquierda" instance=ExtResource( 6 )]
transform = Transform( 3.5, -0.216506, 0, 6.06218, 0.125, 0, 0, 0, 200, -7, 0, 0 )
skin = SubResource( 1 )
skeleton = NodePath("../..")
material/0 = SubResource( 19 )

[node name="rampa derecha" type="Spatial" parent="ArenaGeometry2"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 28.436, 8.813, -50 )

[node name="TooSteep2" parent="ArenaGeometry2/rampa derecha" instance=ExtResource( 6 )]
transform = Transform( 3.5, 0.216506, 0, -6.06218, 0.125, 0, 0, 0, 200, 0, 0, 0 )
skin = SubResource( 1 )
skeleton = NodePath("../..")
material/0 = SubResource( 20 )

[node name="TooSteep3" parent="ArenaGeometry2/rampa derecha" instance=ExtResource( 6 )]
transform = Transform( 3.5, -0.216506, 0, 6.06218, 0.125, 0, 0, 0, 200, -7, 0, 0 )
skin = SubResource( 1 )
skeleton = NodePath("../..")
material/0 = SubResource( 21 )

[node name="Plataforma final" parent="ArenaGeometry2" instance=ExtResource( 2 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -3.67524, -4.43539, -279.109 )
skeleton = NodePath("../..")
material/0 = SubResource( 23 )
script = ExtResource( 7 )

[node name="Entrance" type="Area" parent="."]
transform = Transform( 9, 0, 0, 0, 4, 0, 0, 0, 4, -3.56775, -2.3825, -286.209 )
script = ExtResource( 8 )

[node name="CollisionShape" type="CollisionShape" parent="Entrance"]
transform = Transform( 10, 0, 0, 0, 5, 0, 0, 0, 1, -0.144217, 6.2096, -2.5442 )
shape = SubResource( 2 )

[node name="Muerte" type="Area" parent="."]
transform = Transform( 240, 0, 0, 0, 1, 0, 0, 0, 1300, -6.42757, -24.1527, -35.7608 )
script = ExtResource( 10 )

[node name="CollisionShape" type="CollisionShape" parent="Muerte"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 0.1, 0, 2.38055, 0 )
shape = SubResource( 9 )

[node name="obstaculos" type="Spatial" parent="."]

[node name="columnas" type="Spatial" parent="obstaculos"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 6.52761, 0 )

[node name="Barreras" type="Spatial" parent="obstaculos"]

[node name="FirstPerson" parent="." instance=ExtResource( 1 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 4.47134, 26.4254, 210.158 )

[connection signal="body_entered" from="Entrance" to="Entrance" method="_on_Entrance_body_entered"]
[connection signal="body_entered" from="Muerte" to="Muerte" method="_on_Muerte_body_entered"]
